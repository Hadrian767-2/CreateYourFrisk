<!DOCTYPE html>
<!--
since you're here anyway: there's a small easter egg on the text commands page but it's probably not worth finding, sorry
you may notice this page's code is garbage: i'm not a web designer! ;-;
it's w3c valid, at least
-->

<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../img/icon.png">

    <title>CYF Documentation - The UI Object</title>
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/bootstrap-theme.min.css" rel="stylesheet">
    <link href="../css/themesidebar.css" rel="stylesheet">
    <link href="../css/shThemeRDark.css" rel="stylesheet">
</head>
<body>
<img src="../img/bg2.png" alt="Undertale background" class="backimg">
<div class="container arena black">
    <!--navigation-->
    <script type="text/javascript" src="../js/SideBar.js"></script>
    <script type="text/javascript"> CreateSideBar("The UI Object"); </script>

    <!--tabs'n'shit-->
    <div class="tab-content col-md-10">
        <div class="tab-pane active text-style" id="api-functions-main">
            <h2><span class="CYF"></span> The UI Object [E/M/W]</h2><br><br>
            <p>
                This section details the various elements you can use to manipulate CYF's internal user interface.
                <br><br>
                If you want to manipulate UI elements related to the enemy (attack animation, health bar, position of the damage text), I suggest visiting the <span class="term">Misc. Functions</span> section of the documentation.
                <br><br>
                Keep in mind that removing any of these elements has a great chance of making the engine unstable, so take caution when manipulating the UI.
            </p>

            <p>
                <br><span class="function"> <span class="userdata">sprite</span> UI.background</span>
                Sprite object allowing you to manipulate the background image set using the <span class="term">background</span> variable.
            </p>

            <p>
                <br><span class="function"> <span class="userdata">text</span> UI.namelv</span>
                Text object displaying the Player's name as well as its level. Its contents is usually the Player's name followed by two spaces, the text <span class="term">LV</span>, another space, then finally the Player's level.
            </p>

            <p>
                <br><span class="function"> <span class="userdata">sprite</span> UI.hplabel</span>
                Sprite for the <span class="term">HP</span> text next to the Player's life bar.
            </p>

            <p>
                <br><span class="function"> <span class="userdata">bar</span> UI.hpbar</span>
                Bar object used as the Player's life bar.
            </p>

            <p>
                <br><span class="function"> <span class="userdata">text</span> UI.hptext</span>
                Text object displaying the Player's HP. Its contents display the Player's current HP, a space, a slash, another space, and finally the Player's max HP.
            </p>

            <p>
                <br><span class="new function"> <span class="userdata">text</span> UI.maintext</span>
                Text object used in the Arena to display most things. Take caution when handling this object, as it's used absolutely everywhere in encounters.
            </p>

            <p>
                <br><span class="new function"> <span class="userdata">sprite</span> UI.mugshot</span>
                Sprite used to display a character's face sprite on the left side of the arena, through the usage of the <span class="term">[mugshot:x]</span> text command.
            </p>

            <p>
                <br><span class="new function"> <span class="userdata">sprite</span> UI.mugshotmask</span>
                Mask sprite used to keep the mugshot within the bounds of the arena. Its size is usually 130x130, although its height scales with the arena's, meaning changing its height may not work as intended. Changing its anchor will stop that effect from happening.
            </p>

            <p>
                <br><span class="new function"> <span class="luatable"><span class="userdata">bar</span></span> UI.enemylifebarlist</span>
                List of life bars displayed next to each enemy whenever the Player selects the FIGHT button. All life bars are destroyed whenever the Player changes the current page if there are more than 3 active enemies, so you need to get this variable again to fetch the new life bars if the page is changed
            </p>

            <p>
                <br><span class="function"> <span class="userdata">sprite</span> UI.fightbtn</span>
                Sprite for the <span class="term">FIGHT</span> button. Do not use its <span class="term">Remove</span> function, or it may cause unexpected errors. If you want to remove it, set its alpha to 0 instead.
            </p>

            <p>
                <br><span class="function"> <span class="userdata">sprite</span> UI.actbtn</span>
                Sprite for the <span class="term">ACT</span> button. Do not use its <span class="term">Remove</span> function, or it may cause unexpected errors. If you want to remove it, set its alpha to 0 instead.
            </p>

            <p>
                <br><span class="function"> <span class="userdata">sprite</span> UI.itembtn</span>
                Sprite for the <span class="term">ITEM</span> button. Do not use its <span class="term">Remove</span> function, or it may cause unexpected errors. If you want to remove it, set its alpha to 0 instead.
            </p>

            <p>
                <br><span class="function"> <span class="userdata">sprite</span> UI.mercybtn</span>
                Sprite for the <span class="term">MERCY</span> button. Do not remove it in any way, or it may cause unexpected errors. If you want to remove it, set its alpha to 0 instead.
            </p>

            <p>
                <br><span class="new function"> <span class="userdata">object</span> UI.root</span>
                Root of the entire battle scene. See the <span class="ref">General Objects</span> for more information on how to handle this object.
            </p>

            <p>
                <br><span class="function">UI.StopUpdate(<span class="boolean"></span> toggle)</span>
                If <span class="term">toggle</span> is true, the Player's UI (except the buttons) will not be updated by the engine, whether it is the Player's name and level text or the Player's hp bar and text.<br><br>
                False by default.
            </p>

            <p>
                <br><span class="function">UI.Hide(<span class="boolean"></span> hide)</span>
                If <span class="term">hide</span> is true, all of the Player's UI (including the buttons) will be hidden.<br><br>
                False by default.
            </p>

            <p>
                <br><span class="function">UI.RepositionHPElements()</span>
                Updates the Player's life's bar's position, and the player's hp text's position depending on the sizes of the hp bar and the hp label.
            </p>

            <p>
                <br><span class="function">UI.Reset()</span>
                Tries to reset all modifications to the Player's UI, making it look like it originally is at the beginning of the battle by resetting most of the UI elements' parameters.
            </p>

            <p>
                <br><span class="function">UI.GetCurrentButton() returns <span class="string"></span></span>
                Returns the name of the currently selected button. Its return value can either be <span class="term">FIGHT</span>, <span class="term">ACT</span>, <span class="term">ITEM</span> or <span class="term">MERCY</span>.
            </p>

            <p>
                <br><span class="function">UI.DisableButton(<span class="string"></span> button)</span>
                Disables the given button, preventing its selection in the state <span class="term">ACTIONSELECT</span>.
                <br><br>
                Accepted values for the <span class="term">button</span> argument are <span class="term">FIGHT</span>, <span class="term">ACT</span>, <span class="term">ITEM</span> or <span class="term">MERCY</span>.
            </p>

            <p>
                <br><span class="function">UI.EnableButton(<span class="string"></span> button)</span>
                Reenables the given button if it was previously disabled using <span class="term">UI.DisableButton</span>.
                <br><br>
                Accepted values for the <span class="term">button</span> argument are <span class="term">FIGHT</span>, <span class="term">ACT</span>, <span class="term">ITEM</span> or <span class="term">MERCY</span>.
            </p>

            <p>
                <br><span class="function">UI.ResetButtonPosition(<span class="string"></span> button, <span class="boolean"></span> resetX = true, <span class="boolean"></span> resetY = true)</span>
                Resets the position of the given button. Setting <span class="term">resetX</span> to <span class="term">true</span> resets the button's horizontal position, while setting <span class="term">resetY</span> to <span class="term">true</span> resets the button's vertical position.
                <br><br>
                Accepted values for the <span class="term">button</span> argument are <span class="term">FIGHT</span>, <span class="term">ACT</span>, <span class="term">ITEM</span> or <span class="term">MERCY</span>.
            </p>

            <p>
                <br><span class="function">UI.GetPlayerXPosOnButton(<span class="string"></span> button) returns <span class="number"></span></span>
                Returns the player's horizontal position offset when selecting the given button, starting from the button's bottom left corner. The default value for all buttons is <span class="term">16</span>.
                <br><br>
                Accepted values for the <span class="term">button</span> argument are <span class="term">FIGHT</span>, <span class="term">ACT</span>, <span class="term">ITEM</span> or <span class="term">MERCY</span>.
            </p>

            <p>
                <br><span class="function">UI.GetPlayerYPosOnButton(<span class="string"></span> button) returns <span class="number"></span></span>
                Returns the player's vertical position offset when selecting the given button, starting from the button's bottom left corner. The default value for all buttons is <span class="term">19</span>.
                <br><br>
                Accepted values for the <span class="term">button</span> argument are <span class="term">FIGHT</span>, <span class="term">ACT</span>, <span class="term">ITEM</span> or <span class="term">MERCY</span>.
            </p>

            <p>
                <br><span class="function">UI.SetPlayerXPosOnButton(<span class="string"></span> button, <span class="number"></span> newX)</span>
                Sets the player's horizontal position offset when selecting the given button, starting from the button's bottom left corner.
                <br><br>
                Accepted values for the <span class="term">button</span> argument are <span class="term">FIGHT</span>, <span class="term">ACT</span>, <span class="term">ITEM</span> or <span class="term">MERCY</span>.
            </p>

            <p>
                <br><span class="function">UI.SetPlayerYPosOnButton(<span class="string"></span> button, <span class="number"></span> newY)</span>
                Sets the player's vertical position offset when selecting the given button, starting from the button's bottom left corner.
                <br><br>
                Accepted values for the <span class="term">button</span> argument are <span class="term">FIGHT</span>, <span class="term">ACT</span>, <span class="term">ITEM</span> or <span class="term">MERCY</span>.
            </p>

            <p>
                <br><span class="function">UI.ResetPlayerPosOnButton(<span class="string"></span> button, <span class="boolean"></span> resetX = true, <span class="boolean"></span> resetY = true)</span>
                Resets the player's position offset when selecting the given button, starting from the button's bottom left corner. Setting <span class="term">resetX</span> to <span class="term">true</span> resets the player's horizontal position offset, while setting <span class="term">resetY</span> to <span class="term">true</span> resets the player's vertical position offset.
                <br><br>
                Accepted values for the <span class="term">button</span> argument are <span class="term">FIGHT</span>, <span class="term">ACT</span>, <span class="term">ITEM</span> or <span class="term">MERCY</span>.
            </p>

            <p>
                <br><span class="function">UI.SetButtonActiveSprite(<span class="string"></span> button, <span class="string"></span> sprite)</span>
                Sets the sprite of the given button whenever it is selected.
                <br><br>
                Accepted values for the <span class="term">button</span> argument are <span class="term">FIGHT</span>, <span class="term">ACT</span>, <span class="term">ITEM</span> or <span class="term">MERCY</span>.
            </p>

            <p>
                <br><span class="function">UI.ResetButtonActiveSprite(<span class="string"></span> button)</span>
                Resets the sprite of the given button whenever it is selected to the one that was used by the engine at the beginning of the encounter.
                <br><br>
                Accepted values for the <span class="term">button</span> argument are <span class="term">FIGHT</span>, <span class="term">ACT</span>, <span class="term">ITEM</span> or <span class="term">MERCY</span>.
            </p>

            <p>
                <br><span class="function">UI.UpdateButtons()</span>
                Sets the active button's active sprite and moves the Player where it needs to be on its currently selected button. This function is automatically called after most functions related to button manipulation.
            </p>


            <hr>
            <h3><span class="CYF"></span> The Bar Object [E/M/W]</h2><br><br>
            <p>
                This separate section lists the various functions and variables are usable when dealing with a bar object, which can be used for life bars, for example.
                <br><br>
                These objects are used in CYF as life bars, whether it's the Player's, the life bars appearing next to the enemy's names after selecting the <span class="term">FIGHT</span> button and the life bar appearing after attacking an enemy.
                <br><br>
                Bar objects are composed of three sprites (four of them if it has an outline) which are all children of one another: <span class="term">fill</span> is the child of <span class="term">mask</span> which is itself the child of <span class="term">background</span>. If the bar's <span class="term">outline</span> exists, then <span class="term">background</span> will be its child.
            </p>

            <p>
                <br><span class="function">CreateBar(<span class="number"></span> x, <span class="number"></span> y, <span class="number"></span> width, <span class="number"></span> height = 20) returns <span class="userdata">bar</span> [E/M/W]</span>
                Creates a bar object which bottom left corner is at the absolute position <span class="term">x</span> and <span class="term">y</span>, with a size of <span class="term">width</span> pixels horizontally and <span class="term">height</span> pixels vertically.
            </p>

            <p>
                <br><span class="function">CreateBarWithSprites(<span class="number"></span> x, <span class="number"></span> y, <span class="string"></span> backgroundSprite, <span class="string"></span> fillSprite = backgroundSprite) returns <span class="userdata">bar</span> [E/M/W]</span>
                Creates a bar object which bottom left corner is at the absolute position <span class="term">x</span> and <span class="term">y</span>, and which uses the sprites <span class="term">backgroundSprite</span> and <span class="term">fillSprite</span> to create the life bar.
                <br><br>
                Both sprites must have the same size, and if no value is given for <span class="term">fillSprite</span>, then it uses the same sprite as <span class="term">backgroundSprite</span>.
            </p>

            <p>
                <br><span class="function"> <span class="userdata">sprite</span> Bar.background</span>
                Background sprite of the bar object, which is also the parent of all other standard bar elements.
            </p>

            <p>
                <br><span class="function"> <span class="userdata">sprite</span> Bar.mask</span>
                Mask sprite of the bar object, used to hide part of the <span class="term">fill</span> sprite. A mask is used in order to cut the <span class="term">fill</span> sprite if it's a sprite other than a single pixel scaled up, allowing for the bar's <span class="term">fill</span> to be cut instead of squished.
            </p>

            <p>
                <br><span class="function"> <span class="userdata">sprite</span> Bar.fill</span>
                Fill sprite of the bar object, which is used to represent the amount of the bar which is still full.
            </p>

            <p>
                <br><span class="function"> <span class="userdata">sprite</span> Bar.outline</span>
                Outline sprite of the bar object, which adds a black outline to the bar object. It needs to be created first using the function <span class="term">AddOutline()</span>.
                <br><br>
                If it exists, it will be the parent of the <span class="term">background</span> sprite.
            </p>

            <p>
                <br><span class="function"> <span class="number"></span> Bar.currentFill (readonly)</span>
                Value usually between 0 and 1 that gives the percentage of the bar which is currently full. <span class="term">0</span> means the bar is empty, while <span class="term">1</span> means it is full.
                <br><br>
                Can be outside of these bounds if <span class="term">SetInstant()</span> or <span class="term">SetLerp()</span> are used without clamping.
            </p>

            <p>
                <br><span class="function"> <span class="boolean"></span> Bar.hasOutline (readonly)</span>
                Returns true if the bar object has an <span class="term">outline</span> sprite, false otherwise.
            </p>

            <p>
                <br><span class="function"> <span class="number"></span> Bar.outlineThickness</span>
                Returns the thickness in pixels of the <span class="term">outline</span> sprite. Returns 0 if the outline doesn't exist.
                <br><br>
                Can be set to resize the outline's thickness.
            </p>

            <p>
                <br><span class="new function"> <span class="number"></span> Bar.isactive</span>
                True if the lifebar hasn't been removed, false otherwise.
            </p>

            <p>
                <br><span class="function"> Bar.SetInstant(<span class="number"></span> fillValue, <span class="boolean"></span> allowNonClamped = false)</span>
                Sets the fill percentage of the bar object between 0 and 1. <span class="term">0</span> means the bar is empty, while <span class="term">1</span> means it is full.
                <br><br>
                If <span class="term">allowNonClamped</span> is set to true, you can use values lower than 0 and higher than 1.
                <br><br>
                Note that the bar will be updated properly when <span class="term">fillValue</span> is beyond its usual bounds only if the <span class="term">bar-px</span> sprite is used for all of the bar's sprites.
            </p>

            <p>
                <br><span class="new function"> Bar.SetLerp(<span class="number"></span> fillValue, <span class="number"></span> time = 60, <span class="boolean"></span> allowNonClamped = false)</span>
                Gradually sets the fill percentage of the bar object between 0 and 1 from the bar's current fill to <span class="term">fillValue</span> over <span class="term">time</span> frames, with 60 frames being equal to one second. <span class="term">0</span> means the bar is empty, while <span class="term">1</span> means it is full.
                <br><br>
                If <span class="term">allowNonClamped</span> is set to true, you can use values lower than 0 and higher than 1.
                <br><br>
                Note that the bar will be updated properly when <span class="term">fillValue</span> is beyond its usual bounds only if the <span class="term">bar-px</span> sprite is used for all of the bar's sprites.
            </p>

            <p>
                <br><span class="new function"> Bar.SetLerpFull(<span class="number"></span> originalValue, <span class="number"></span> fillValue, <span class="number"></span> time = 60, <span class="boolean"></span> allowNonClamped = false)</span>
                Gradually sets the fill percentage of the bar object between 0 and 1 from <span class="term">originalValue</span> to <span class="term">fillValue</span> over <span class="term">time</span> frames, with 60 frames being equal to one second. <span class="term">0</span> means the bar is empty, while <span class="term">1</span> means it is full.
                <br><br>
                If <span class="term">allowNonClamped</span> is set to true, you can use values lower than 0 and higher than 1.
                <br><br>
                Note that the bar will be updated properly when <span class="term">fillValue</span> is beyond its usual bounds only if the <span class="term">bar-px</span> sprite is used for all of the bar's sprites.
            </p>

            <p>
                <br><span class="function"> Bar.AddOutline(<span class="number"></span> thickness, <span class="number"></span> r = 0, <span class="number"></span> g = 0, <span class="number"></span> b = 0)</span>
                Creates a rectangle outline sprite which has a thickness of <span class="term">thickness</span> pixels on all sides. This new sprite will be the parent of the <span class="term">background</span> sprite, which means it needs to be moved if you want to move the entire bar object if it exists.
                <br><br>
                The standard color of the outline is black, but you can change the color of the <span class="term">outline</span> sprite by setting the values <span class="term">r</span>, <span class="term">g</span> and <span class="term">b</span> between 0 and 1.
            </p>

            <p>
                <br><span class="function"> Bar.RemoveOutline()</span>
                Removes the <span class="term">outline</span> sprite if it exists without removing the bar object.
            </p>

            <p>
                <br><span class="function"> Bar.Resize(<span class="number"></span> width, <span class="number"></span> height, <span class="boolean"></span> updateOutline = true)</span>
                Sets the scale of the various elements of the bar object. If the <span class="term">outline</span> sprite shouldnt be updated, set <span class="term">updateOutline</span> to <span class="term">false</span>.
                <br><br>
                If used on a bar object using the <span class="term">bar-px</span> sprite for both its <span class="term">background</span> and its <span class="term">fill</span> sprite, then the bar object will be <span class="term">width</span> pixels wide and <span class="term">height</span> pixels tall.
            </p>

            <p>
                <br><span class="function"> Bar.SetSprites(<span class="string"></span> bgSprite, <span class="string"></span> fSprite = bgSprite, <span class="string"></span> mSprite = nil, <span class="string"></span> oSprite = nil)</span>
                Sets the sprites of the various elements of the bar object. <span class="term">bgSprite</span> will replace the image of the <span class="term">background</span> sprite, <span class="term">fSprite</span> will replace the image of the <span class="term">fill</span> sprite, <span class="term">mSprite</span> will replace the image of the <span class="term">mask</span> sprite and <span class="term">oSprite</span> will replace the image of the <span class="term">outline</span> sprite, if it exists.
                <br><br>
                The size of the <span class="term">background</span> and <span class="term">fill</span> sprites must always be the same, hence why if <span class="term">fSprite</span> is not given, it will use the same spite as <span class="term">bgSprite</span>.
            </p>

            <p>
                <br><span class="function"> Bar.SetVisible(<span class="boolean"></span> visible)</span>
                Hides the bar object completely if <span class="term">visible</span> is set to <span class="term">false</span>, shows it otherwise.
            </p>

            <p>
                <br><span class="function"> Bar.Destroy()</span>
                Destroys this bar object, removing all of its sprites. The Player's lifebar cannot be destroyed.
            </p>
        </div>

        <div class="tab-pane text-style" id="mercy">
            <h2 style="text-decoration: none; line-height:50px;">
                * YOU WON!<br>
                * You earned 0 EXP and 0 gold.<br>
                * also the nav menu is broken now
            </h2><br>
        </div>

    </div>
</div>

<div class="container">
    <div class="col-xs-3"><img class="centerbt black" alt="Undertale fake button" src="../img/fightbt_0.png" height="42">
    </div>
    <div class="col-xs-3"><img class="centerbt black" alt="Undertale fake button" src="../img/actbt_0.png" height="42">
    </div>
    <div class="col-xs-3"><img class="centerbt black" alt="Undertale fake button" src="../img/itembt_0.png" height="42">
    </div>
    <div class="col-xs-3"><a href="#mercy" data-toggle="tab"><img class="centerbt black" alt="Undertale fake button"
                                                                  src="../img/mercybt_0.png" height="42"></a>
    </div>
</div>
<br>
<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="../js/bootstrap.min.js"></script>
<script type="text/javascript" src="../js/show_hide_comments.js"></script>

<script type="text/javascript" src="../js/FontToggleButton.js"></script>
</body>
</html>